<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Regi√£o dos Lagos ‚Ä¢ Summer 2025</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <style>
        /* --- DESIGN SYSTEM: APPLE LIQUID (iOS 17 Style) --- */
        :root {
            --primary: #007AFF;
            --success: #34C759;
            --warning: #FF9500;
            --danger: #FF3B30;
            --bg-glass: rgba(255, 255, 255, 0.80);
            --blur: 40px;
            --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.12);
            --radius-xl: 24px;
            --radius-md: 16px;
            --text-main: #1D1D1F;
            --text-sec: #86868B;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, sans-serif;
            color: var(--text-main);
            background-color: #f5f5f7;
            overflow: hidden; 
            height: 100vh;
        }

        /* Fundo Animado (Mesh Gradient) */
        .mesh-background {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: -1;
            background: radial-gradient(circle at 10% 10%, rgba(255, 200, 200, 0.6), transparent 40%),
                        radial-gradient(circle at 90% 80%, rgba(200, 240, 255, 0.6), transparent 40%),
                        radial-gradient(circle at 50% 50%, rgba(255, 255, 220, 0.5), transparent 60%);
            animation: meshMove 15s ease-in-out infinite alternate;
            filter: blur(40px);
        }

        @keyframes meshMove {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }

        /* Estrutura Principal */
        #app {
            display: flex;
            height: 100vh;
            width: 100vw;
            position: relative;
        }

        #map-container {
            flex-grow: 1;
            height: 100%;
            z-index: 1;
        }
        
        #map { width: 100%; height: 100%; }

        /* Painel Lateral (Glassmorphism) */
        #content-panel {
            background: var(--bg-glass);
            backdrop-filter: blur(var(--blur));
            -webkit-backdrop-filter: blur(var(--blur));
            z-index: 100;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* Desktop: Split View */
        @media (min-width: 1024px) {
            #content-panel {
                width: 480px;
                height: 100vh;
                border-right: 1px solid rgba(255,255,255,0.4);
                position: relative;
            }
            #map-container {
                position: absolute;
                left: 480px;
                width: calc(100% - 480px);
                height: 100vh;
            }
        }

        /* Mobile: Bottom Sheet */
        @media (max-width: 1023px) {
            #app { flex-direction: column; }
            #map-container {
                position: fixed;
                top: 0; left: 0; width: 100%; height: 45vh;
            }
            #content-panel {
                position: absolute;
                top: 40vh; 
                width: 100%;
                height: 60vh;
                border-radius: var(--radius-xl) var(--radius-xl) 0 0;
                padding-bottom: 20px;
                border-top: 1px solid rgba(255,255,255,0.5);
                overflow: hidden;
            }
        }

        /* Header Fixo */
        .panel-header {
            position: sticky;
            top: 0;
            z-index: 10;
            padding: 24px 24px 10px 24px;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .app-title {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-sec);
            margin-bottom: 12px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Toggle Switch */
        .mode-toggle {
            display: flex;
            background: rgba(118, 118, 128, 0.12);
            padding: 4px;
            border-radius: 12px;
            margin-bottom: 16px;
        }
        
        .toggle-btn {
            flex: 1;
            border: none;
            background: transparent;
            padding: 8px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            color: var(--text-main);
            transition: all 0.2s ease;
        }
        
        .toggle-btn.active { background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.12); }

        /* Filtros (Pills) */
        .filters-scroll {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 8px;
            scrollbar-width: none;
        }
        .filters-scroll::-webkit-scrollbar { display: none; }

        .filter-pill {
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(255,255,255,0.6);
            border: 1px solid rgba(0,0,0,0.05);
            font-size: 13px;
            font-weight: 500;
            white-space: nowrap;
            cursor: pointer;
            transition: 0.2s;
        }
        .filter-pill.active { background: var(--text-main); color: #fff; }

        /* Lista de Conte√∫do */
        #content-list {
            flex: 1;
            overflow-y: auto;
            padding: 20px 24px 120px 24px;
            overscroll-behavior: contain;
        }

        /* --- ESTILO DO CARD --- */
        .card {
            background: #fff;
            border-radius: var(--radius-md);
            margin-bottom: 24px;
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            transition: transform 0.2s;
            cursor: pointer;
            border: 1px solid rgba(0,0,0,0.02);
        }

        .card:active { transform: scale(0.98); }

        .card-image-container {
            height: 180px;
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .distance-badge {
            position: absolute;
            top: 10px; right: 10px;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(10px);
            color: #fff;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .card-body { padding: 16px; }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 700;
            margin: 0;
            color: var(--text-main);
            line-height: 1.3;
        }

        .card-meta {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        .badge-rating { background: #fffbe6; color: #b78a06; }
        .badge-price { background: #f2f2f7; color: #666; }

        .card-desc {
            font-size: 14px;
            color: var(--text-sec);
            line-height: 1.5;
            margin-bottom: 16px;
        }

        /* Medidor de Lota√ß√£o */
        .crowd-meter-container {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 11px;
            color: var(--text-sec);
            margin-bottom: 16px;
        }
        .meter-bar { flex: 1; height: 4px; background: #eee; border-radius: 2px; overflow: hidden; }
        .meter-fill { height: 100%; border-radius: 2px; }
        .crowd-low .meter-fill { width: 30%; background: var(--success); }
        .crowd-med .meter-fill { width: 60%; background: var(--warning); }
        .crowd-high .meter-fill { width: 90%; background: var(--danger); }

        /* Box Dica de Ouro */
        .golden-tip-box {
            background: rgba(255, 204, 0, 0.15);
            border-left: 3px solid #FFCC00;
            padding: 12px;
            border-radius: 0 8px 8px 0;
            margin-bottom: 16px;
        }
        .golden-title {
            font-size: 12px;
            font-weight: 700;
            color: #665200;
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 8px;
            text-transform: uppercase;
        }
        .tip-list {
            margin: 0;
            padding-left: 20px;
            font-size: 13px;
            color: #524200;
            line-height: 1.4;
        }
        .tip-list li { margin-bottom: 4px; }

        /* Grid de A√ß√µes */
        .actions-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 10px;
            border-radius: 10px;
            text-decoration: none;
            font-size: 13px;
            font-weight: 600;
            transition: 0.2s;
            cursor: pointer;
            border: none;
        }
        .btn-primary { background: #f2f2f7; color: var(--primary); }
        .btn-primary:hover { background: #e5e5ea; }
        .btn-outline { background: transparent; border: 1px solid rgba(0,0,0,0.1); color: var(--text-main); }
        .btn-outline:hover { background: rgba(0,0,0,0.02); }

        /* Timeline */
        .timeline-day { margin-bottom: 30px; position: relative; padding-left: 20px; }
        .timeline-day::before {
            content: ''; position: absolute; left: 0; top: 30px; bottom: -20px;
            width: 2px; background: linear-gradient(to bottom, var(--primary), rgba(0,0,0,0.1));
            border-radius: 2px;
        }
        .day-header {
            font-size: 18px; font-weight: 700; margin-bottom: 16px; color: var(--text-main);
            display: flex; align-items: center; gap: 8px;
        }
        .day-dot {
            width: 12px; height: 12px; background: var(--primary); border-radius: 50%;
            position: absolute; left: -5px; top: 6px; box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.2);
        }

        /* Leaflet Popups */
        .custom-popup .leaflet-popup-content-wrapper {
            border-radius: 16px; padding: 0; overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .custom-popup .leaflet-popup-content { margin: 0; width: 240px !important; }
        .popup-img { width: 100%; height: 100px; object-fit: cover; }
        .popup-body { padding: 12px; font-family: 'Inter'; }
        .popup-title { font-weight: 700; font-size: 14px; margin-bottom: 4px; }
        .popup-meta { font-size: 11px; color: #666; }

    </style>
</head>
<body>

    <div class="mesh-background"></div>

    <div id="app">
        <div id="map-container">
            <div id="map"></div>
        </div>

        <div id="content-panel">
            <div class="panel-header">
                <div class="app-title">
                    <span><i class="fa-solid fa-umbrella-beach"></i> Lagos ‚Ä¢ Summer '25</span>
                    <span style="font-size:11px; opacity:0.6;">Base: Cond. P√°ssaros</span>
                </div>
                
                <div class="mode-toggle">
                    <button class="toggle-btn" id="btn-timeline" onclick="app.setMode('timeline')">üìÖ Roteiro</button>
                    <button class="toggle-btn active" id="btn-explore" onclick="app.setMode('explore')">üîç Explorar</button>
                </div>

                <div id="filter-container" class="filters-scroll">
                    </div>
            </div>

            <div id="content-list">
                </div>
        </div>
    </div>

<script>

/**
 * --- DADOS (DATABASE) ---
 * Estrutura corrigida e compat√≠vel com o renderizador abaixo.
 */
const DB = [
    // --- 1. PRAIAS ---
    { 
        id: 101, category: 'Praias', title: 'Praia do Forte', 
        desc: 'O cart√£o postal de Cabo Frio. Areia branca e o Forte S√£o Mateus no canto esquerdo.', 
        lat: -22.8863, lng: -42.0244, rating: 4.9, price: 'free', crowd: 'max', 
        tips: ['Chegue antes das 08h para estacionar.', 'O canto do Forte tem √°guas mais calmas.', 'Evite som alto.'],
        date: '2024-12-27', img: 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800&q=80' 
    },
    { 
        id: 102, category: 'Praias', title: 'Ilha do Japon√™s', 
        desc: 'Santu√°rio de √°guas rasas e calmas. Perfeito para relaxar.', 
        lat: -22.8718, lng: -41.9995, rating: 4.8, price: '$', crowd: 'high', 
        tips: ['Atravesse a p√© na mar√© baixa.', 'Barco-t√°xi custa R$ 10 ida/volta.', 'Leve sapatilhas (pedras).'],
        date: '2024-12-28', img: 'https://images.unsplash.com/photo-1590523278135-1e2908226065?w=800&q=80' 
    },
    { 
        id: 103, category: 'Praias', title: 'Praia das Conchas', 
        desc: 'Formato de concha e √°guas azuis turquesa. √ìtima infraestrutura.', 
        lat: -22.8722, lng: -41.9775, rating: 4.7, price: '$$', crowd: 'med', 
        tips: ['Suba o mirante natural √† direita.', 'Quiosques do canto esquerdo s√£o mais tranquilos.'],
        date: '2024-12-29', img: 'https://images.unsplash.com/photo-1519046904884-53103b34b271?w=800&q=80' 
    },
    { 
        id: 104, category: 'Praias', title: 'Prainhas do Pontal do Atalaia', 
        desc: 'A famosa escadaria de Arraial. Mar estilo Caribe.', 
        lat: -22.9774, lng: -42.0238, rating: 5.0, price: 'free', crowd: 'max', 
        tips: ['Acesso limitado a 250 carros.', 'O sol se p√µe cedo (16h).', 'Leve √°gua.'],
        date: '2024-12-30', img: 'https://images.unsplash.com/photo-1596324276766-389650085a6e?w=800&q=80' 
    },
    { 
        id: 105, category: 'Praias', title: 'Praia da Ferradura', 
        desc: 'Enseada fechada em B√∫zios, parece uma piscina. Ideal para stand-up.', 
        lat: -22.7753, lng: -41.9056, rating: 4.6, price: '$$$', crowd: 'high', 
        tips: ['Alugue um pedalinho.', 'Eden Beach Club √© uma boa op√ß√£o de luxo.'],
        date: '2025-01-02', img: 'https://images.unsplash.com/photo-1562678665-c3548395df3d?w=800&q=80' 
    },
    { 
        id: 106, category: 'Praias', title: 'Gerib√°', 
        desc: 'Point badalado de B√∫zios. Surf, gente bonita e paquera.', 
        lat: -22.7808, lng: -41.9167, rating: 4.8, price: '$$$', crowd: 'max', 
        tips: ['Fishbone Caf√© √© onde tem festa.', 'Canto esquerdo √© para surfistas.'],
        date: '2025-01-03', img: 'https://images.unsplash.com/photo-1520483602335-3b25f44a904e?w=800&q=80' 
    },
    { 
        id: 107, category: 'Praias', title: 'Praia do Forno (Arraial)', 
        desc: 'Acesso por trilha ou barco. √Ågua quente e colorida.', 
        lat: -22.9669, lng: -42.0169, rating: 4.8, price: '$$', crowd: 'high', 
        tips: ['Trilha curta mas √≠ngreme (15 min).', 'Coma pastel de camar√£o nos quiosques flutuantes.'],
        date: '2024-12-31', img: 'https://images.unsplash.com/photo-1545648588-e215e9854746?w=800&q=80' 
    },
    { 
        id: 108, category: 'Praias', title: 'Azeda e Azedinha', 
        desc: 'Pequenas, selvagens e transparentes. √Årea de prote√ß√£o em B√∫zios.', 
        lat: -22.7444, lng: -41.8844, rating: 4.7, price: '$$', crowd: 'high', 
        tips: ['Leve snorkel.', 'V√° cedo, a areia some na mar√© alta.'],
        date: '2025-01-04', img: 'https://images.unsplash.com/photo-1471922694854-ff1b63b20054?w=800&q=80' 
    },
    { 
        id: 109, category: 'Praias', title: 'Praia do Per√≥', 
        desc: 'Bandeira Azul. 7km de extens√£o, limpa e preservada.', 
        lat: -22.8622, lng: -41.9833, rating: 4.7, price: '$$', crowd: 'med', 
        tips: ['√ìtima para fugir da muvuca.', 'Mar de tombo, cuidado.'],
        img: 'https://images.unsplash.com/photo-1506953823976-52e1fdc0149a?w=800&q=80' 
    },
    { 
        id: 110, category: 'Praias', title: 'Praia Grande (Arraial)', 
        desc: 'Mar aberto oce√¢nico. P√¥r do sol mais bonito da regi√£o.', 
        lat: -22.9769, lng: -42.0361, rating: 4.6, price: '$$', crowd: 'high', 
        tips: ['Todos aplaudem o p√¥r do sol.', '√Ågua muito gelada.'],
        img: 'https://images.unsplash.com/photo-1617300327299-6e35c82a7f5a?w=800&q=80' 
    },
    { 
        id: 111, category: 'Praias', title: 'Praia do Foguete', 
        desc: 'Mar agitado, profundo e deserto. Continua√ß√£o do Forte.', 
        lat: -22.9067, lng: -42.0353, rating: 4.5, price: 'free', crowd: 'low', 
        tips: ['Cuidado com correnteza.', '√ìtima para caminhar sozinho.'],
        img: 'https://images.unsplash.com/photo-1515404929826-76fff9fef6fe?w=800&q=80' 
    },
    { 
        id: 112, category: 'Praias', title: 'Praia Brava (B√∫zios)', 
        desc: 'Exclusiva e chique. Beach Clubs e ondas fortes.', 
        lat: -22.7608, lng: -41.8653, rating: 4.7, price: '$$$$', crowd: 'med', 
        tips: ['Silk Beach Club e Rocka ficam aqui.', 'Areia rosada.'],
        img: 'https://images.unsplash.com/photo-1540324155974-7523202daa3f?w=800&q=80' 
    },
    { 
        id: 113, category: 'Praias', title: 'Tartaruga', 
        desc: '√Åguas mansas e mornas. Favorita das fam√≠lias em B√∫zios.', 
        lat: -22.7569, lng: -41.9031, rating: 4.6, price: '$$', crowd: 'high', 
        tips: ['Tartarugas aparecem nos corais.', 'P√¥r do sol incr√≠vel.'],
        img: 'https://images.unsplash.com/photo-1534234828569-1f27c499aa65?w=800&q=80' 
    },
    { 
        id: 114, category: 'Praias', title: 'Ilha do Farol', 
        desc: 'A praia mais perfeita do Brasil. Acesso restrito (Marinha).', 
        lat: -22.9986, lng: -42.0222, rating: 5.0, price: '$$', crowd: 'med', 
        tips: ['S√≥ via barco autorizado.', 'Tempo controlado (45min).', 'Proibido descer com comida.'],
        date: '2025-01-05', img: 'https://images.unsplash.com/photo-1596324276686-3a0598a37464?w=800&q=80' 
    },
    { 
        id: 115, category: 'Praias', title: 'Jo√£o Fernandes', 
        desc: 'Mar calmo, muitos peixes e hot√©is de luxo em B√∫zios.', 
        lat: -22.7389, lng: -41.8797, rating: 4.7, price: '$$$', crowd: 'high', 
        tips: ['Mirante no topo do morro tem vista linda.', 'Muitos argentinos.'],
        img: 'https://images.unsplash.com/photo-1509233725247-49e657c54213?w=800&q=80' 
    },

    // --- 2. GASTRONOMIA ---
    { 
        id: 201, category: 'Gastronomia', title: 'Picolino', 
        desc: 'Alta gastronomia em casar√£o hist√≥rico de Cabo Frio.', 
        lat: -22.8805, lng: -42.0190, rating: 4.9, price: '$$$$', crowd: 'med', 
        tips: ['Pe√ßa o Fil√© de Peixe com crosta.', 'Fa√ßa reserva.'],
        links: { instagram: 'https://www.instagram.com/picolinorestaurante/', menu: 'https://picolino.com.br/menu' },
        date: '2024-12-27', img: 'https://images.unsplash.com/photo-1514362545857-3bc16549766b?w=800&q=80' 
    },
    { 
        id: 202, category: 'Gastronomia', title: 'Chez Michou', 
        desc: 'A creperia mais famosa do Brasil, no agito de B√∫zios.', 
        lat: -22.7561, lng: -41.8894, rating: 4.7, price: '$$', crowd: 'max', 
        tips: ['Crepe de chocolate com morango.', 'Prepare-se para fila.'],
        links: { instagram: 'https://www.instagram.com/chezmichoubuzios/', site: 'http://chezmichou.com.br/' },
        date: '2025-01-02', img: 'https://images.unsplash.com/photo-1519999607873-19545464c852?w=800&q=80' 
    },
    { 
        id: 203, category: 'Gastronomia', title: 'Bar do Z√©', 
        desc: 'Sofistica√ß√£o na Orla Bardot. Risotos inesquec√≠veis.', 
        lat: -22.7538, lng: -41.8872, rating: 4.8, price: '$$$$', crowd: 'high', 
        tips: ['Risoto de frutos do mar.', 'Reserva obrigat√≥ria.'],
        links: { instagram: 'https://www.instagram.com/bardozebuzios/' },
        date: '2025-01-04', img: 'https://images.unsplash.com/photo-1559339352-11d035aa65de?w=800&q=80' 
    },
    { 
        id: 204, category: 'Gastronomia', title: 'Bacalhau do Tuga', 
        desc: 'Portugu√™s raiz em Arraial. Melhor bacalhau da regi√£o.', 
        lat: -22.9644, lng: -42.0255, rating: 4.9, price: '$$$', crowd: 'med', 
        tips: ['Bolinho de bacalhau divino.', 'Por√ß√µes generosas.'],
        links: { instagram: 'https://www.instagram.com/bacalhaudotuga/' },
        date: '2024-12-30', img: 'https://images.unsplash.com/photo-1551044439-d35eb18f972b?w=800&q=80' 
    },
    { 
        id: 205, category: 'Gastronomia', title: 'Sem Frescura Burger', 
        desc: 'Burger artesanal premiado em Cabo Frio.', 
        lat: -22.8850, lng: -42.0220, rating: 4.6, price: '$$', crowd: 'high', 
        tips: ['Burger com geleia de pimenta.', 'Maionese da casa.'],
        links: { instagram: 'https://www.instagram.com/semfrescuraburger/' },
        img: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=800&q=80' 
    },
    { 
        id: 206, category: 'Gastronomia', title: 'Porto da Barra', 
        desc: 'Complexo gastron√¥mico em Manguinhos. P√¥r do sol lindo.', 
        lat: -22.7661, lng: -41.9070, rating: 4.8, price: '$$$', crowd: 'high', 
        tips: ['Chegue √†s 17h para happy hour.', 'Muitas op√ß√µes de restaurantes.'],
        links: { site: 'https://portodabarrabuzios.com.br/' },
        date: '2025-01-03', img: 'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800&q=80' 
    },
    { 
        id: 207, category: 'Gastronomia', title: 'Saint Tropez', 
        desc: 'Self-service de alta qualidade em Arraial.', 
        lat: -22.9690, lng: -42.0280, rating: 4.5, price: '$$', crowd: 'high', 
        tips: ['Variedade de frutos do mar.', 'Bom para almo√ßo r√°pido.'],
        img: 'https://images.unsplash.com/photo-1574966739987-65e38db0f7ce?w=800&q=80' 
    },
    { 
        id: 208, category: 'Gastronomia', title: 'Sorveteria Finlandesa', 
        desc: 'Sorvetes artesanais tradicionais em B√∫zios.', 
        lat: -22.7565, lng: -41.8890, rating: 4.7, price: '$$', crowd: 'high', 
        tips: ['Sabores de frutas locais.', 'Fica na Rua das Pedras.'],
        img: 'https://images.unsplash.com/photo-1497034825429-c343d7c6a68f?w=800&q=80' 
    },
    { 
        id: 209, category: 'Gastronomia', title: 'Arcos do Canal', 
        desc: 'Restaurante cl√°ssico com vista para o Canal Itajuru.', 
        lat: -22.8820, lng: -42.0180, rating: 4.6, price: '$$$', crowd: 'med', 
        tips: ['Mesa na varanda.', '√ìtimo para jantar em fam√≠lia.'],
        date: '2024-12-29', img: 'https://images.unsplash.com/photo-1551632436-cbf8dd354ca8?w=800&q=80' 
    },
    { 
        id: 210, category: 'Gastronomia', title: 'Farol do Arraial', 
        desc: 'Sucos e lanches r√°pidos pr√©-trilha.', 
        lat: -22.9680, lng: -42.0260, rating: 4.4, price: '$', crowd: 'med', 
        tips: ['A√ßa√≠ refor√ßado.', 'Pre√ßo justo.'],
        img: 'https://images.unsplash.com/photo-1596525737380-b94d752495b6?w=800&q=80' 
    },
    { 
        id: 211, category: 'Gastronomia', title: 'Le Sanduich', 
        desc: 'Sandu√≠ches gigantes e batata frita caseira em CF.', 
        lat: -22.8812, lng: -42.0195, rating: 4.5, price: '$$', crowd: 'med', 
        tips: ['Maionese temperada famosa.', 'Sandu√≠che serve dois.'],
        img: 'https://images.unsplash.com/photo-1528605248644-14dd04022da1?w=800&q=80' 
    },
    { 
        id: 212, category: 'Gastronomia', title: 'Del√≠rio', 
        desc: 'Churrascaria e buffet a quilo farto.', 
        lat: -22.8855, lng: -42.0230, rating: 4.4, price: '$$', crowd: 'high', 
        tips: ['Churrasco √© o ponto forte.', 'V√° cedo (12h).'],
        img: 'https://images.unsplash.com/photo-1544025162-d76690b68f11?w=800&q=80' 
    },
    { 
        id: 213, category: 'Gastronomia', title: 'Pizza do Pappone', 
        desc: 'Pizza de massa fina na Passagem.', 
        lat: -22.8795, lng: -42.0165, rating: 4.6, price: '$$$', crowd: 'med', 
        tips: ['Ambiente rom√¢ntico.', 'Pizza de parma √© √≥tima.'],
        img: 'https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=800&q=80' 
    },
    { 
        id: 214, category: 'Gastronomia', title: 'Box 60', 
        desc: 'Bar container estilo industrial na Passagem.', 
        lat: -22.8745, lng: -42.0185, rating: 4.5, price: '$$', crowd: 'high', 
        tips: ['Chopp gelado.', 'Drinks autorais.'],
        links: { instagram: 'https://www.instagram.com/box60container/' },
        img: 'https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=800&q=80' 
    },
    { 
        id: 215, category: 'Gastronomia', title: 'Rocka Beach', 
        desc: 'P√© na areia chique na Praia Brava.', 
        lat: -22.7600, lng: -41.8660, rating: 4.8, price: '$$$$', crowd: 'med', 
        tips: ['Ceviche de peixe branco.', 'Use os colch√µes para relaxar.'],
        links: { instagram: 'https://www.instagram.com/rockafish/' },
        img: 'https://images.unsplash.com/photo-1533777857889-4be7c70b33f7?w=800&q=80' 
    },
    { 
        id: 216, category: 'Gastronomia', title: 'Mistico', 
        desc: 'Jantar com vista panor√¢mica em B√∫zios.', 
        lat: -22.7500, lng: -41.8850, rating: 4.9, price: '$$$$', crowd: 'low', 
        tips: ['Ideal para datas especiais.', 'Menu degusta√ß√£o.'],
        img: 'https://images.unsplash.com/photo-1550966871-3ed3c47e2ce2?w=800&q=80' 
    },
    { 
        id: 217, category: 'Gastronomia', title: 'Padaria Remmar', 
        desc: 'Tradicional 24h em Cabo Frio.', 
        lat: -22.8835, lng: -42.0205, rating: 4.5, price: '$$', crowd: 'high', 
        tips: ['P√£o de queijo quentinho.', 'Torrada Petr√≥polis.'],
        date: '2024-12-28', img: 'https://images.unsplash.com/photo-1509440159596-0249088772ff?w=800&q=80' 
    },
    { 
        id: 218, category: 'Gastronomia', title: 'Astral Beach Food', 
        desc: 'Pokes e comida saud√°vel em Arraial.', 
        lat: -22.9660, lng: -42.0270, rating: 4.7, price: '$$', crowd: 'med', 
        tips: ['Poke de salm√£o fresco.', 'Sucos detox.'],
        img: 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80' 
    },

    // --- 3. NOITE ---
    { 
        id: 301, category: 'Noite', title: 'Privil√®ge', 
        desc: 'Balada eletr√¥nica lend√°ria em B√∫zios.', 
        lat: -22.7540, lng: -41.8875, rating: 4.8, price: '$$$$', crowd: 'max', 
        tips: ['Compre antecipado online.', 'Dress code: arrumado.'],
        links: { instagram: 'https://www.instagram.com/privilegebrasil/', site: 'https://privilegebrasil.com/' },
        date: '2025-01-03', img: 'https://images.unsplash.com/photo-1566737236500-c8ac43014a67?w=800&q=80' 
    },
    { 
        id: 302, category: 'Noite', title: 'Rua das Pedras', 
        desc: 'O cora√ß√£o de B√∫zios. Bares, lojas e agito.', 
        lat: -22.7550, lng: -41.8885, rating: 5.0, price: 'free', crowd: 'max', 
        tips: ['S√≥ caminhar j√° √© o passeio.', 'Bar Mr. Brad tem m√∫sica ao vivo.'],
        date: '2025-01-02', img: 'https://images.unsplash.com/photo-1558963820-c266858a74e3?w=800&q=80' 
    },
    { 
        id: 303, category: 'Noite', title: 'Boulevard Canal', 
        desc: 'Bares com m√∫sica ao vivo em Cabo Frio.', 
        lat: -22.8810, lng: -42.0185, rating: 4.5, price: '$$', crowd: 'high', 
        tips: ['Queens Lounge para drinks.', 'Seguro √† noite.'],
        date: '2024-12-28', img: 'https://images.unsplash.com/photo-1572116469696-31de0f17cc34?w=800&q=80' 
    },
    { 
        id: 304, category: 'Noite', title: 'R√©veillon Forte', 
        desc: 'A virada oficial com fogos e shows.', 
        lat: -22.8860, lng: -42.0240, rating: 5.0, price: 'free', crowd: 'max', 
        tips: ['Proibido vidro.', 'Chegue cedo.', 'Tr√¢nsito para.'],
        date: '2024-12-31', img: 'https://images.unsplash.com/photo-1467810563316-b5476525c0f9?w=800&q=80' 
    },
    { 
        id: 305, category: 'Noite', title: 'Silk Beach Club', 
        desc: 'Festas sofisticadas na Brava.', 
        lat: -22.7600, lng: -41.8650, rating: 4.7, price: '$$$$', crowd: 'high', 
        tips: ['Confira a agenda no Insta.', 'P√∫blico selecionado.'],
        links: { instagram: 'https://www.instagram.com/silkbeachclub/' },
        img: 'https://images.unsplash.com/photo-1533174072545-e8d4aa97edf9?w=800&q=80' 
    },
    { 
        id: 306, category: 'Noite', title: 'Anexo Bar', 
        desc: 'Bar lounge de pr√©-balada no Porto da Barra.', 
        lat: -22.7665, lng: -41.9075, rating: 4.8, price: '$$$', crowd: 'high', 
        tips: ['Drinks premiados.', 'M√∫sica lounge.'],
        links: { instagram: 'https://www.instagram.com/anexopraiabuzios/' },
        img: 'https://images.unsplash.com/photo-1470337458703-46ad1756a187?w=800&q=80' 
    },
    { 
        id: 307, category: 'Noite', title: 'Deck dos Anjos', 
        desc: 'Ponto de encontro informal em Arraial.', 
        lat: -22.9695, lng: -42.0285, rating: 4.4, price: '$$', crowd: 'med', 
        tips: ['Clima descontra√≠do.', 'Cerveja na rua.'],
        img: 'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&q=80' 
    },
    { 
        id: 308, category: 'Noite', title: 'Tr√≥ia Lounge', 
        desc: 'Boate e lounge em Cabo Frio.', 
        lat: -22.8825, lng: -42.0210, rating: 4.3, price: '$$$', crowd: 'med', 
        tips: ['P√∫blico jovem.', 'Funk e Eletr√¥nico.'],
        links: { instagram: 'https://www.instagram.com/troialounge/' },
        img: 'https://images.unsplash.com/photo-1571204655544-762283a0050e?w=800&q=80' 
    },
    { 
        id: 309, category: 'Noite', title: 'Feirinha da Pra√ßa', 
        desc: 'Comida de rua e artesanato no centro.', 
        lat: -22.8845, lng: -42.0225, rating: 4.5, price: '$', crowd: 'high', 
        tips: ['Crepe e churros.', 'Bom para crian√ßas.'],
        img: 'https://images.unsplash.com/photo-1533900298318-6b8da08a523e?w=800&q=80' 
    },
    { 
        id: 310, category: 'Noite', title: 'Zapata', 
        desc: 'Bar mexicano com tequila em B√∫zios.', 
        lat: -22.7562, lng: -41.8895, rating: 4.6, price: '$$$', crowd: 'high', 
        tips: ['Noites latinas.', 'Nachos fartos.'],
        img: 'https://images.unsplash.com/photo-1563503926-d68407ee3398?w=800&q=80' 
    },
    { 
        id: 311, category: 'Noite', title: 'Buda Beach', 
        desc: 'Restaurante e balada na Orla Bardot.', 
        lat: -22.7545, lng: -41.8880, rating: 4.5, price: '$$$', crowd: 'high', 
        tips: ['Decora√ß√£o ex√≥tica.', 'M√∫sica ao vivo.'],
        img: 'https://images.unsplash.com/photo-1514525253440-b393452e8d26?w=800&q=80' 
    },
    { 
        id: 312, category: 'Noite', title: 'Lapa da Gamboa', 
        desc: 'Samba e pagode em Cabo Frio.', 
        lat: -22.8780, lng: -42.0150, rating: 4.6, price: '$$', crowd: 'med', 
        tips: ['Roda de samba.', 'Cerveja de garrafa.'],
        img: 'https://images.unsplash.com/photo-1516997121675-4c2d1684aa3e?w=800&q=80' 
    },
    { 
        id: 313, category: 'Noite', title: 'Pub Cervejaria CF', 
        desc: 'Cervejas artesanais locais.', 
        lat: -22.8650, lng: -42.0050, rating: 4.7, price: '$$', crowd: 'med', 
        tips: ['Experimente a IPA.', 'Petiscos gourmet.'],
        img: 'https://images.unsplash.com/photo-1575444758702-4a6b9222336e?w=800&q=80' 
    },
    { 
        id: 314, category: 'Noite', title: 'N√¥made B√∫zios', 
        desc: 'Bar de praia vibe relax.', 
        lat: -22.7800, lng: -41.9160, rating: 4.6, price: '$$$', crowd: 'med', 
        tips: ['Para fugir da eletr√¥nica pesada.'],
        img: 'https://images.unsplash.com/photo-1536662706346-6819eb761483?w=800&q=80' 
    },
    { 
        id: 315, category: 'Noite', title: 'Cinema Park Lagos', 
        desc: 'Sess√£o noturna.', 
        lat: -22.8700, lng: -42.0050, rating: 4.2, price: '$$', crowd: 'high', 
        tips: ['Compre pelo app.', 'Leve casaco (AC forte).'],
        img: 'https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=800&q=80' 
    },

    // --- 4. SERVI√áOS ---
    { 
        id: 401, category: 'Servi√ßos', title: 'Supermercado Extra', 
        desc: 'Grande porte 24h (verificar feriados).', 
        lat: -22.8750, lng: -42.0150, rating: 4.0, price: '$$', crowd: 'max', 
        tips: ['Evite 18h-20h.', 'Estacionamento pago.'],
        img: 'https://images.unsplash.com/photo-1583258292688-d0213dc5a3a8?w=800&q=80' 
    },
    { 
        id: 402, category: 'Servi√ßos', title: 'Hortifruti', 
        desc: 'Frutas selecionadas e padaria.', 
        lat: -22.8830, lng: -42.0200, rating: 4.5, price: '$$$', crowd: 'med', 
        tips: ['Sucos naturais prontos.', 'Qualidade superior.'],
        img: 'https://images.unsplash.com/photo-1610832958506-aa56368176cf?w=800&q=80' 
    },
    { 
        id: 403, category: 'Servi√ßos', title: 'Shopping Park Lagos', 
        desc: 'Maior shopping da regi√£o.', 
        lat: -22.8700, lng: -42.0050, rating: 4.6, price: '$$', crowd: 'high', 
        tips: ['Ref√∫gio para chuva.', 'Muitas lojas.'],
        img: 'https://images.unsplash.com/photo-1519567241046-7f570eee3ce9?w=800&q=80' 
    },
    { 
        id: 404, category: 'Servi√ßos', title: 'Peixaria do Canal', 
        desc: 'Pescados diretos do barco.', 
        lat: -22.8825, lng: -42.0170, rating: 4.8, price: '$', crowd: 'high', 
        tips: ['Chegue cedo para camar√£o VG.', 'Limpam na hora.'],
        img: 'https://images.unsplash.com/photo-1529329881857-4b7115e3478d?w=800&q=80' 
    },
    { 
        id: 405, category: 'Servi√ßos', title: 'Drogaria Raia', 
        desc: 'Farm√°cia completa no centro.', 
        lat: -22.8840, lng: -42.0210, rating: 4.2, price: '$$', crowd: 'med', 
        tips: ['Estacionamento pequeno.', 'Aceita conv√™nios.'],
        img: 'https://images.unsplash.com/photo-1563453392212-326f5e854473?w=800&q=80' 
    },
    { 
        id: 406, category: 'Servi√ßos', title: 'Assa√≠ Atacadista', 
        desc: 'Compras de volume.', 
        lat: -22.8600, lng: -42.0300, rating: 4.3, price: '$', crowd: 'max', 
        tips: ['Cerveja barata.', 'Filas grandes.'],
        img: 'https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=800&q=80' 
    },
    { 
        id: 407, category: 'Servi√ßos', title: 'Princesa Supermercados', 
        desc: 'Mercado em Arraial.', 
        lat: -22.9650, lng: -42.0260, rating: 4.0, price: '$$', crowd: 'high', 
        tips: ['Corredores apertados.', 'Padaria boa.'],
        img: 'https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&q=80' 
    },
    { 
        id: 408, category: 'Servi√ßos', title: 'Posto Ipiranga', 
        desc: 'Combust√≠vel e conveni√™ncia.', 
        lat: -22.8780, lng: -42.0100, rating: 4.0, price: '$$', crowd: 'med', 
        tips: ['Abaste√ßa antes de sair.', 'Calibrador gr√°tis.'],
        img: 'https://images.unsplash.com/photo-1545199616-01584282305a?w=800&q=80' 
    },
    { 
        id: 409, category: 'Servi√ßos', title: 'Hospital Santa Izabel', 
        desc: 'Emerg√™ncia particular/conv√™nio.', 
        lat: -22.8815, lng: -42.0200, rating: 3.5, price: '$$$', crowd: 'high', 
        tips: ['Refer√™ncia m√©dica.', 'Leve carteirinha.'],
        img: 'https://images.unsplash.com/photo-1586773860418-d37222d8fce3?w=800&q=80' 
    },
    { 
        id: 410, category: 'Servi√ßos', title: 'Rodovi√°ria CF', 
        desc: 'Terminal Alexis Novelino.', 
        lat: -22.8730, lng: -42.0140, rating: 3.8, price: '$$', crowd: 'high', 
        tips: ['Compre passagem de volta antes.', 'Uber ali √© f√°cil.'],
        img: 'https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=800&q=80' 
    },
    { 
        id: 411, category: 'Servi√ßos', title: 'Banco 24 Horas', 
        desc: 'Caixas eletr√¥nicos.', 
        lat: -22.8850, lng: -42.0230, rating: 4.0, price: 'free', crowd: 'med', 
        tips: ['Saque dinheiro para barcos/quiosques.', 'Muitos n√£o aceitam cart√£o.'],
        img: 'https://images.unsplash.com/photo-1601597111158-2fceff292b5c?w=800&q=80' 
    },
    { 
        id: 412, category: 'Servi√ßos', title: 'Lavanderia 5√†Sec', 
        desc: 'Lavar roupas profissional.', 
        lat: -22.8710, lng: -42.0060, rating: 4.5, price: '$$', crowd: 'low', 
        tips: ['Servi√ßo expresso.', 'Perto do shopping.'],
        img: 'https://images.unsplash.com/photo-1545173168-9f1947eebb8f?w=800&q=80' 
    },
    { 
        id: 413, category: 'Servi√ßos', title: 'UPA Cabo Frio', 
        desc: 'Pronto Atendimento P√∫blico.', 
        lat: -22.8680, lng: -42.0100, rating: 3.0, price: 'free', crowd: 'max', 
        tips: ['Apenas emerg√™ncias.', 'Espera longa.'],
        img: 'https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=800&q=80' 
    },
    { 
        id: 414, category: 'Servi√ßos', title: 'Detran', 
        desc: 'Servi√ßos de documentos.', 
        lat: -22.8720, lng: -42.0100, rating: 3.5, price: '$', crowd: 'med', 
        tips: ['Agendamento necess√°rio.'],
        img: 'https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?w=800&q=80' 
    },
    { 
        id: 415, category: 'Servi√ßos', title: 'Mercado de Peixe B√∫zios', 
        desc: 'Peixes frescos.', 
        lat: -22.7650, lng: -41.9100, rating: 4.5, price: '$$', crowd: 'med', 
        tips: ['√ìtimo para cozinhar em casa.', 'Qualidade boa.'],
        img: 'https://images.unsplash.com/photo-1520188741369-63a207e408e4?w=800&q=80' 
    },

    // --- 5. LAZER ---
    { 
        id: 501, category: 'Lazer', title: 'Passeio de Barco Arraial', 
        desc: 'Gruta Azul e Ilha do Farol.', 
        lat: -22.9695, lng: -42.0290, rating: 4.9, price: '$$', crowd: 'max', 
        tips: ['Barco Don Juan recomendado.', 'Tome rem√©dio de enjoo.'],
        date: '2024-12-30', img: 'https://images.unsplash.com/photo-1544098485-2a2a4b9a9d99?w=800&q=80' 
    },
    { 
        id: 502, category: 'Lazer', title: 'Mergulho Batismo', 
        desc: 'Capital do mergulho.', 
        lat: -22.9700, lng: -42.0250, rating: 5.0, price: '$$$$', crowd: 'low', 
        tips: ['N√£o precisa saber nadar.', 'Fotos inclusas.'],
        date: '2025-01-05', img: 'https://images.unsplash.com/photo-1582967788606-a171f1080ca8?w=800&q=80' 
    },
    { 
        id: 503, category: 'Lazer', title: 'Trolley B√∫zios', 
        desc: 'Tour por 12 praias.', 
        lat: -22.7560, lng: -41.8890, rating: 4.5, price: '$$', crowd: 'med', 
        tips: ['Vis√£o geral de B√∫zios.', 'Guia explica hist√≥ria.'],
        img: 'https://images.unsplash.com/photo-1532960401447-7dd05bef20b0?w=800&q=80' 
    },
    { 
        id: 504, category: 'Lazer', title: 'Mirante do Forno', 
        desc: 'Trilha leve com vista incr√≠vel.', 
        lat: -22.9650, lng: -42.0150, rating: 4.8, price: 'free', crowd: 'med', 
        tips: ['Melhor foto de Arraial.', 'Cuidado com cactos.'],
        img: 'https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=800&q=80' 
    },
    { 
        id: 505, category: 'Lazer', title: 'Bairro da Passagem', 
        desc: 'Centro hist√≥rico colonial.', 
        lat: -22.8790, lng: -42.0160, rating: 4.7, price: 'free', crowd: 'med', 
        tips: ['V√° no fim da tarde.', 'Jante no Largo.'],
        date: '2024-12-29', img: 'https://images.unsplash.com/photo-1581431885449-35a073574944?w=800&q=80' 
    },
    { 
        id: 506, category: 'Lazer', title: 'T√°xi Boat Canal', 
        desc: 'Passeio r√°pido de barco.', 
        lat: -22.8725, lng: -42.0000, rating: 4.6, price: '$', crowd: 'high', 
        tips: ['Negocie valor para grupos.', 'Crian√ßas adoram.'],
        img: 'https://images.unsplash.com/photo-1559733475-43849544a0b2?w=800&q=80' 
    },
    { 
        id: 507, category: 'Lazer', title: 'Cine Ara√∫jo', 
        desc: 'Cinema no shopping.', 
        lat: -22.8705, lng: -42.0055, rating: 4.2, price: '$$', crowd: 'high', 
        tips: ['Verifique hor√°rios online.', 'Pipoca doce boa.'],
        img: 'https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=800&q=80' 
    },
    { 
        id: 508, category: 'Lazer', title: 'Boliche Striker', 
        desc: 'Divers√£o no shopping.', 
        lat: -22.8702, lng: -42.0052, rating: 4.3, price: '$$', crowd: 'high', 
        tips: ['Reserve a pista.', 'Tem fliperama.'],
        img: 'https://images.unsplash.com/photo-1538513633433-8cb0c1f842f6?w=800&q=80' 
    },
    { 
        id: 509, category: 'Lazer', title: 'Buggy nas Dunas', 
        desc: 'Aventura na areia.', 
        lat: -22.8850, lng: -42.0250, rating: 4.7, price: '$$$', crowd: 'low', 
        tips: ['S√≥ com credenciados.', 'Pe√ßa com emo√ß√£o.'],
        img: 'https://images.unsplash.com/photo-1552354763-239632eb1b0c?w=800&q=80' 
    },
    { 
        id: 510, category: 'Lazer', title: 'Trilha do Vigia', 
        desc: 'Caminhada ecol√≥gica.', 
        lat: -22.8900, lng: -42.0000, rating: 4.6, price: 'free', crowd: 'low', 
        tips: ['Leve √°gua.', 'Vista das Conchas.'],
        img: 'https://images.unsplash.com/photo-1551632811-561732d1e306?w=800&q=80' 
    },
    { 
        id: 511, category: 'Lazer', title: 'Banana Boat', 
        desc: 'Divers√£o na praia.', 
        lat: -22.8870, lng: -42.0220, rating: 4.5, price: '$$', crowd: 'high', 
        tips: ['Colete obrigat√≥rio.', 'Divers√£o em grupo.'],
        img: 'https://images.unsplash.com/photo-1528154135341-9214d02324dc?w=800&q=80' 
    },
    { 
        id: 512, category: 'Lazer', title: 'Kart√≥dromo', 
        desc: 'Corrida de kart.', 
        lat: -22.8600, lng: -42.0400, rating: 4.4, price: '$$$', crowd: 'med', 
        tips: ['Cal√ßado fechado necess√°rio.', 'D√° para fazer campeonato.'],
        img: 'https://images.unsplash.com/photo-1584666327318-7a5509789314?w=800&q=80' 
    },
    { 
        id: 513, category: 'Lazer', title: 'Aluguel Bike', 
        desc: 'Pedalar na orla.', 
        lat: -22.8840, lng: -42.0230, rating: 4.6, price: '$', crowd: 'med', 
        tips: ['Ciclovia plana.', 'V√° at√© as Dunas.'],
        img: 'https://images.unsplash.com/photo-1528629297340-d1d466945dc5?w=800&q=80' 
    },
    { 
        id: 514, category: 'Lazer', title: 'Voo Paramotor', 
        desc: 'Sobrevoo nas praias.', 
        lat: -22.9000, lng: -42.0300, rating: 4.9, price: '$$$$', crowd: 'low', 
        tips: ['Depende do vento.', 'Decolagem nas dunas.'],
        img: 'https://images.unsplash.com/photo-1558280417-3e284f39e338?w=800&q=80' 
    },
    { 
        id: 515, category: 'Lazer', title: 'Mirante Jo√£o Fernandes', 
        desc: 'Vista panor√¢mica.', 
        lat: -22.7350, lng: -41.8750, rating: 4.7, price: 'free', crowd: 'med', 
        tips: ['V√° de carro.', 'Subida √≠ngreme.'],
        img: 'https://images.unsplash.com/photo-1445510861609-75510463241b?w=800&q=80' 
    },

    // --- 6. CULTURA ---
    { 
        id: 601, category: 'Cultura', title: 'Forte S√£o Mateus', 
        desc: 'Hist√≥rico (1616). Patrim√¥nio nacional.', 
        lat: -22.8827, lng: -42.0199, rating: 4.8, price: 'free', crowd: 'high', 
        tips: ['Entre nos canh√µes.', 'Visite a sala de exposi√ß√£o.'],
        date: '2024-12-27', img: 'https://images.unsplash.com/photo-1595267773204-7667d7105b63?w=800&q=80' 
    },
    { 
        id: 602, category: 'Cultura', title: 'Museu do Surf', 
        desc: 'Maior acervo da Am√©rica Latina.', 
        lat: -22.8845, lng: -42.0235, rating: 4.7, price: '$', crowd: 'low', 
        tips: ['Na Pra√ßa da √Ågua.', 'Hist√≥ria do surf.'],
        img: 'https://images.unsplash.com/photo-1502680390469-be75c70e01fb?w=800&q=80' 
    },
    { 
        id: 603, category: 'Cultura', title: 'Casa Scliar', 
        desc: 'Casa-museu do artista Carlos Scliar.', 
        lat: -22.8810, lng: -42.0175, rating: 4.6, price: '$', crowd: 'low', 
        tips: ['Na orla do canal.', 'Obras originais.'],
        img: 'https://images.unsplash.com/photo-1518998053901-5348d3969105?w=800&q=80' 
    },
    { 
        id: 604, category: 'Cultura', title: 'Charitas', 
        desc: 'Casa de Cultura Jos√© de Dome.', 
        lat: -22.8820, lng: -42.0180, rating: 4.5, price: 'free', crowd: 'low', 
        tips: ['Arquitetura colonial.', 'Jardim interno.'],
        img: 'https://images.unsplash.com/photo-1553531580-652231dae097?w=800&q=80' 
    },
    { 
        id: 605, category: 'Cultura', title: 'Igreja Matriz', 
        desc: 'Fundada em 1615. Barroco.', 
        lat: -22.8830, lng: -42.0195, rating: 4.6, price: 'free', crowd: 'med', 
        tips: ['Missa domingo.', 'Altar rico em detalhes.'],
        img: 'https://images.unsplash.com/photo-1548625361-bd816823c318?w=800&q=80' 
    },
    { 
        id: 606, category: 'Cultura', title: 'Est√°tua Brigitte Bardot', 
        desc: 'Homenagem √† atriz. √çcone de B√∫zios.', 
        lat: -22.7530, lng: -41.8860, rating: 4.7, price: 'free', crowd: 'high', 
        tips: ['Fila para foto.', 'Na Orla Bardot.'],
        date: '2025-01-02', img: 'https://images.unsplash.com/photo-1558273615-56543b35582f?w=800&q=80' 
    },
    { 
        id: 607, category: 'Cultura', title: 'Capela Desatadora', 
        desc: 'Pequena e charmosa em B√∫zios.', 
        lat: -22.7600, lng: -41.9200, rating: 4.8, price: 'free', crowd: 'med', 
        tips: ['Lugar de paz.', 'Simplicidade encantadora.'],
        img: 'https://images.unsplash.com/photo-1437603568260-1950d3ca6eab?w=800&q=80' 
    },
    { 
        id: 608, category: 'Cultura', title: 'Museu Oceanogr√°fico', 
        desc: 'Esqueletos de baleias em Arraial.', 
        lat: -22.9705, lng: -42.0295, rating: 4.5, price: '$', crowd: 'med', 
        tips: ['Crian√ßas adoram.', 'Ingresso barato.'],
        img: 'https://images.unsplash.com/photo-1565624756535-649987dc34df?w=800&q=80' 
    },
    { 
        id: 609, category: 'Cultura', title: 'Fonte do Itajuru', 
        desc: 'Marco de funda√ß√£o da cidade.', 
        lat: -22.8800, lng: -42.0150, rating: 4.0, price: 'free', crowd: 'low', 
        tips: ['Passeio r√°pido.', '√Ågua hist√≥rica.'],
        img: 'https://images.unsplash.com/photo-1570701564993-e00652af8aa7?w=800&q=80' 
    },
    { 
        id: 610, category: 'Cultura', title: 'Feira Artesanato', 
        desc: 'Lembrancinhas na orla.', 
        lat: -22.8855, lng: -42.0240, rating: 4.4, price: 'free', crowd: 'high', 
        tips: ['Negocie pre√ßos.', 'Funciona tarde/noite.'],
        img: 'https://images.unsplash.com/photo-1455620611406-966ca6869d44?w=800&q=80' 
    },
    { 
        id: 611, category: 'Cultura', title: 'Convento dos Anjos', 
        desc: 'Hist√≥rico (1696).', 
        lat: -22.8810, lng: -42.0200, rating: 4.7, price: 'free', crowd: 'low', 
        tips: ['Vista panor√¢mica.', 'Lugar de sil√™ncio.'],
        img: 'https://images.unsplash.com/photo-1548625361-bd816823c318?w=800&q=80' 
    },
    { 
        id: 612, category: 'Cultura', title: 'Est√°tua Pescadores', 
        desc: 'Escultura dentro d\'√°gua.', 
        lat: -22.7540, lng: -41.8870, rating: 4.6, price: 'free', crowd: 'high', 
        tips: ['Linda √† noite.', 'Homenagem local.'],
        img: 'https://images.unsplash.com/photo-1569429579621-c42636a0033c?w=800&q=80' 
    },
    { 
        id: 613, category: 'Cultura', title: 'Igreja Sant\'Anna', 
        desc: 'Igreja de 1740 nos Ossos.', 
        lat: -22.7480, lng: -41.8830, rating: 4.8, price: 'free', crowd: 'med', 
        tips: ['Vista da praia.', 'Cemit√©rio hist√≥rico.'],
        img: 'https://images.unsplash.com/photo-1548278238-d62635398d75?w=800&q=80' 
    },
    { 
        id: 614, category: 'Cultura', title: 'Solar dos Massa', 
        desc: 'Biblioteca p√∫blica hist√≥rica.', 
        lat: -22.8820, lng: -42.0190, rating: 4.3, price: 'free', crowd: 'low', 
        tips: ['Acervo hist√≥rico.', 'Arquitetura.'],
        img: 'https://images.unsplash.com/photo-1524253482453-3fed8d2fe12b?w=800&q=80' 
    },
    { 
        id: 615, category: 'Cultura', title: 'Anjo Ca√≠do', 
        desc: 'Escultura no canal.', 
        lat: -22.8790, lng: -42.0140, rating: 4.0, price: 'free', crowd: 'low', 
        tips: ['Curiosidade.', 'Abertura do canal.'],
        img: 'https://images.unsplash.com/photo-1555663731-0df0cb95568e?w=800&q=80' 
    },

    // --- 7. ESPORTE ---
    { 
        id: 701, category: 'Esporte', title: 'Kitesurf Arubinha', 
        desc: 'Para√≠so do vento e √°gua plana.', 
        lat: -22.9300, lng: -42.0500, rating: 5.0, price: 'free', crowd: 'low', 
        tips: ['V√° de 4x4.', 'Leve comida e √°gua.', 'Sem Gympass.'],
        img: 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800&q=80' 
    },
    { 
        id: 702, category: 'Esporte', title: 'Smart Fit CF', 
        desc: 'Academia grande no centro.', 
        lat: -22.8750, lng: -42.0180, rating: 4.5, price: '$$', crowd: 'high', 
        tips: ['Aceita Gympass (Black).', 'Pico: 18h-20h.'],
        img: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=800&q=80' 
    },
    { 
        id: 703, category: 'Esporte', title: 'Corpo & Mar', 
        desc: 'Tradicional perto da praia.', 
        lat: -22.8820, lng: -42.0220, rating: 4.4, price: '$$', crowd: 'med', 
        tips: ['Aceita Gympass.', 'Tem Day Use.'],
        img: 'https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=800&q=80' 
    },
    { 
        id: 704, category: 'Esporte', title: 'Escola Surf Dunas', 
        desc: 'Aulas para iniciantes.', 
        lat: -22.8900, lng: -42.0300, rating: 4.8, price: '$$', crowd: 'med', 
        tips: ['Instrutores locais.', 'Prancha inclusa.', 'Sem Gympass.'],
        img: 'https://images.unsplash.com/photo-1502680390469-be75c70e01fb?w=800&q=80' 
    },
    { 
        id: 705, category: 'Esporte', title: 'Ciclovia Orla', 
        desc: 'Corrida e bike beira-mar.', 
        lat: -22.8840, lng: -42.0250, rating: 4.7, price: 'free', crowd: 'high', 
        tips: ['V√° as 06h da manh√£.', '2km de extens√£o.'],
        img: 'https://images.unsplash.com/photo-1517649763962-0c623066013b?w=800&q=80' 
    },
    { 
        id: 706, category: 'Esporte', title: 'Crossfit CF', 
        desc: 'Box bem equipado.', 
        lat: -22.8780, lng: -42.0150, rating: 4.6, price: '$$$', crowd: 'med', 
        tips: ['Aceita Gympass.', 'Agende pelo app.'],
        links: { instagram: 'https://www.instagram.com/crossfitcabofrio/' },
        img: 'https://images.unsplash.com/photo-1517963879466-e825c2fe90aa?w=800&q=80' 
    },
    { 
        id: 707, category: 'Esporte', title: 'Arena Beach Tennis', 
        desc: 'Quadras de areia para alugar.', 
        lat: -22.8720, lng: -42.0000, rating: 4.5, price: '$$', crowd: 'high', 
        tips: ['Necess√°rio reservar.', 'Alugam raquetes.', 'Sem Gympass.'],
        img: 'https://images.unsplash.com/photo-1627448530372-e16e6d5e754d?w=800&q=80' 
    },
    { 
        id: 708, category: 'Esporte', title: 'Yoga Praia', 
        desc: 'Pr√°tica ao nascer do sol.', 
        lat: -22.8860, lng: -42.0240, rating: 5.0, price: 'free', crowd: 'low', 
        tips: ['Leve tapete.', 'Ter√ßas e quintas.'],
        img: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=800&q=80' 
    },
    { 
        id: 709, category: 'Esporte', title: 'Canoa Havaiana', 
        desc: 'Passeio e aula no canal.', 
        lat: -22.8800, lng: -42.0180, rating: 4.8, price: '$$', crowd: 'med', 
        tips: ['Aula experimental.', 'Sem Gympass.'],
        links: { instagram: 'https://www.instagram.com/makalau_canoe/' },
        img: 'https://images.unsplash.com/photo-1541256942802-79f912bd6ebc?w=800&q=80' 
    },
    { 
        id: 710, category: 'Esporte', title: 'Skate Park', 
        desc: 'Pista p√∫blica na orla.', 
        lat: -22.8880, lng: -42.0280, rating: 4.3, price: 'free', crowd: 'high', 
        tips: ['Bombado fim de tarde.', 'Iniciante e avan√ßado.'],
        img: 'https://images.unsplash.com/photo-1520045864981-8c4757197b34?w=800&q=80' 
    },
    { 
        id: 711, category: 'Esporte', title: 'Body Club B√∫zios', 
        desc: 'Academia moderna.', 
        lat: -22.7600, lng: -41.8900, rating: 4.6, price: '$$$', crowd: 'med', 
        tips: ['Aceita Gympass.', 'Equipamentos top.'],
        img: 'https://images.unsplash.com/photo-1593079831268-3381b0db4a77?w=800&q=80' 
    },
    { 
        id: 712, category: 'Esporte', title: 'Windsurf Rasa', 
        desc: '√Ågua plana em B√∫zios.', 
        lat: -22.7500, lng: -41.9500, rating: 4.7, price: '$$', crowd: 'low', 
        tips: ['Vento √† tarde.', 'Escolas no local.', 'Sem Gympass.'],
        img: 'https://images.unsplash.com/photo-1505307520448-9336d39db26c?w=800&q=80' 
    },
    { 
        id: 713, category: 'Esporte', title: 'Snorkel Ilha', 
        desc: 'Mergulho livre.', 
        lat: -22.8718, lng: -41.9995, rating: 4.8, price: 'free', crowd: 'high', 
        tips: ['Leve m√°scara.', '√Ågua clara.'],
        img: 'https://images.unsplash.com/photo-1544551763-46a8723ba3f9?w=800&q=80' 
    },
    { 
        id: 714, category: 'Esporte', title: 'Futev√¥lei', 
        desc: 'Redes na praia.', 
        lat: -22.8850, lng: -42.0240, rating: 4.5, price: 'free', crowd: 'med', 
        tips: ['Pe√ßa para jogar.', 'N√≠vel alto.'],
        img: 'https://images.unsplash.com/photo-1612872087720-bb876e2e67d1?w=800&q=80' 
    },
    { 
        id: 715, category: 'Esporte', title: 'Cross Areia', 
        desc: 'Funcional na praia.', 
        lat: -22.8830, lng: -42.0230, rating: 4.6, price: '$', crowd: 'med', 
        tips: ['Manh√£ cedo.', 'Intenso.', 'Sem Gympass.'],
        img: 'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=800&q=80' 
    }
];

// --- L√ìGICA DA APLICA√á√ÉO ---
const BASE_COORDS = { lat: -22.8475, lng: -41.9980 };

class TravelApp {
    constructor() {
        this.mode = 'explore';
        this.activeCategory = 'Todos';
        this.map = null;
        this.markers = {};
        this.categories = ['Todos', 'Praias', 'Gastronomia', 'Noite', 'Servi√ßos', 'Lazer', 'Cultura', 'Esporte'];
        this.init();
    }

    init() {
        this.initMap();
        this.renderFilters();
        this.renderContent();
    }

    // Gerenciador de Imagens com Fallback
    getImage(item) {
        const fallbacks = {
            'Praias': 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=600&q=80',
            'Gastronomia': 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&q=80',
            'Noite': 'https://images.unsplash.com/photo-1566737236500-c8ac43014a67?w=600&q=80',
            'Servi√ßos': 'https://images.unsplash.com/photo-1583258292688-d0213dc5a3a8?w=600&q=80',
            'Lazer': 'https://images.unsplash.com/photo-1533174072545-e8d4aa97edf9?w=600&q=80',
            'Cultura': 'https://images.unsplash.com/photo-1565060169307-28929e05d475?w=600&q=80',
            'Esporte': 'https://images.unsplash.com/photo-1517649763962-0c623066013b?w=600&q=80'
        };
        return item.img || fallbacks[item.category] || fallbacks['Lazer'];
    }

    initMap() {
        this.map = L.map('map', { zoomControl: false }).setView([BASE_COORDS.lat, BASE_COORDS.lng], 12);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
            attribution: '¬© CARTO', maxZoom: 19
        }).addTo(this.map);

        const homeIcon = L.divIcon({
            className: 'custom-pin',
            html: `<div style="background-color:#1D1D1F; width:16px; height:16px; border-radius:50%; border:3px solid white; box-shadow:0 4px 10px rgba(0,0,0,0.3);"></div>`,
            iconSize: [20, 20]
        });
        L.marker([BASE_COORDS.lat, BASE_COORDS.lng], { icon: homeIcon }).addTo(this.map).bindPopup("<b>üè° Base (P√°ssaros)</b>");

        DB.forEach(item => {
            const color = this.getCategoryColor(item.category);
            const markerHtml = `<div style="background-color:${color}; width:12px; height:12px; border-radius:50%; border:2px solid white; box-shadow:0 2px 5px rgba(0,0,0,0.2);"></div>`;
            const icon = L.divIcon({ className: 'custom-pin', html: markerHtml, iconSize: [16, 16] });
            const marker = L.marker([item.lat, item.lng], { icon: icon }).addTo(this.map);
            
            const imgSrc = this.getImage(item);
            const popupContent = `
                <div class="popup-content">
                    <img src="${imgSrc}" class="popup-img" onerror="this.src='${this.getImage({category: item.category})}'">
                    <div class="popup-body">
                        <div class="popup-title">${item.title}</div>
                        <div class="popup-meta">‚≠ê ${item.rating} ‚Ä¢ ${this.getDistance(item.lat, item.lng)}km</div>
                    </div>
                </div>
            `;
            marker.bindPopup(popupContent, { className: 'custom-popup', closeButton: false });
            this.markers[item.id] = marker;
        });
    }

    getCategoryColor(cat) {
        const colors = {
            'Praias': '#007AFF', 'Gastronomia': '#FF9500', 'Noite': '#AF52DE',
            'Servi√ßos': '#8E8E93', 'Lazer': '#34C759', 'Cultura': '#FF2D55', 'Esporte': '#5856D6'
        };
        return colors[cat] || '#000';
    }

    getDistance(lat2, lon2) {
        const R = 6371; 
        const dLat = (lat2 - BASE_COORDS.lat) * (Math.PI/180);
        const dLon = (lon2 - BASE_COORDS.lng) * (Math.PI/180);
        const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                  Math.cos(BASE_COORDS.lat * (Math.PI/180)) * Math.cos(lat2 * (Math.PI/180)) * Math.sin(dLon/2) * Math.sin(dLon/2); 
        return (R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a))).toFixed(1);
    }

    setMode(newMode) {
        this.mode = newMode;
        document.getElementById('btn-timeline').classList.toggle('active', newMode === 'timeline');
        document.getElementById('btn-explore').classList.toggle('active', newMode === 'explore');
        document.getElementById('filter-container').style.display = newMode === 'explore' ? 'flex' : 'none';
        this.renderContent();
    }

    setCategory(cat) {
        this.activeCategory = cat;
        this.renderFilters();
        this.renderContent();
    }

    focusItem(id, lat, lng) {
        this.map.flyTo([lat, lng], 15, { duration: 1.5 });
        if(this.markers[id]) this.markers[id].openPopup();
    }

    renderFilters() {
        document.getElementById('filter-container').innerHTML = this.categories.map(cat => `
            <div class="filter-pill ${this.activeCategory === cat ? 'active' : ''}" 
                 onclick="app.setCategory('${cat}')">${cat}</div>
        `).join('');
    }

    renderContent() {
        const container = document.getElementById('content-list');
        container.innerHTML = ''; 

        if (this.mode === 'timeline') {
            this.renderTimeline(container);
        } else {
            this.renderExplore(container);
        }
    }

    renderTimeline(container) {
        const items = DB.filter(i => i.date).sort((a, b) => new Date(a.date) - new Date(b.date));
        const grouped = {};
        items.forEach(item => {
            if (!grouped[item.date]) grouped[item.date] = [];
            grouped[item.date].push(item);
        });

        Object.keys(grouped).forEach(date => {
            const dayDiv = document.createElement('div');
            dayDiv.className = 'timeline-day';
            const dateObj = new Date(date);
            const dateStr = dateObj.toLocaleDateString('pt-BR', { day: '2-digit', month: 'short' });
            
            dayDiv.innerHTML = `
                <div class="day-header">
                    <div class="day-dot"></div>
                    ${dateStr} <span style="font-weight:400; color:#888; font-size:14px;">${dateObj.toLocaleDateString('pt-BR', { weekday: 'long' })}</span>
                </div>
            `;
            grouped[date].forEach(item => dayDiv.innerHTML += this.createCardHTML(item));
            container.appendChild(dayDiv);
        });
    }

    renderExplore(container) {
        const filtered = this.activeCategory === 'Todos' ? DB : DB.filter(i => i.category === this.activeCategory);
        filtered.forEach(item => container.innerHTML += this.createCardHTML(item));
        if(filtered.length === 0) container.innerHTML = '<div style="text-align:center; padding:20px; color:#888;">Nenhum item encontrado.</div>';
    }

    createCardHTML(item) {
        const dist = this.getDistance(item.lat, item.lng);
        const crowdLabel = item.crowd === 'low' ? 'Vazio' : item.crowd === 'med' ? 'Moderado' : 'Lotado';
        const crowdClass = item.crowd === 'low' ? 'crowd-low' : item.crowd === 'med' ? 'crowd-med' : 'crowd-high';
        const imgSrc = this.getImage(item);

        // Renderiza Dicas (Array)
        let tipsHtml = '';
        if (Array.isArray(item.tips) && item.tips.length > 0) {
            tipsHtml = `<ul class="tip-list">${item.tips.map(t => `<li>${t}</li>`).join('')}</ul>`;
        }

        // Renderiza Links (Objeto)
        let actionsHtml = '';
        if (item.links) {
            actionsHtml = Object.keys(item.links).map(key => {
                let icon = 'fa-arrow-up-right-from-square';
                let label = 'Info';
                if(key === 'menu') { icon = 'fa-utensils'; label = 'Card√°pio'; }
                if(key === 'instagram') { icon = 'fa-instagram'; label = 'Insta'; }
                if(key === 'site') { icon = 'fa-globe'; label = 'Site'; }
                return `<a href="${item.links[key]}" target="_blank" class="btn btn-outline" onclick="event.stopPropagation()">
                            <i class="fa-brands ${icon} fa-solid"></i> ${label}
                        </a>`;
            }).join('');
        }

        return `
            <div class="card" onclick="app.focusItem(${item.id}, ${item.lat}, ${item.lng})">
                <div class="card-image-container">
                    <img src="${imgSrc}" class="card-img" loading="lazy" alt="${item.title}" 
                         onerror="this.onerror=null;this.src='${this.getImage({category: item.category})}';">
                    <div class="distance-badge"><i class="fa-solid fa-location-arrow"></i> ${dist} km</div>
                </div>
                <div class="card-body">
                    <div class="card-header">
                        <h3 class="card-title">${item.title}</h3>
                        <div style="text-align:right"><span class="badge badge-rating">‚òÖ ${item.rating}</span></div>
                    </div>
                    <div class="card-meta">
                        <span class="badge badge-price">${item.category}</span>
                        <span class="badge badge-price">${item.price}</span>
                    </div>
                    <div class="crowd-meter-container ${crowdClass}">
                        <i class="fa-solid fa-user-group"></i> <span>${crowdLabel}</span>
                        <div class="meter-bar"><div class="meter-fill"></div></div>
                    </div>
                    <p class="card-desc">${item.desc}</p>
                    ${tipsHtml ? `<div class="golden-tip-box"><div class="golden-title"><i class="fa-regular fa-lightbulb"></i> Dicas de Ouro</div>${tipsHtml}</div>` : ''}
                    <div class="actions-grid">
                        <a href="https://www.google.com/maps/dir/?api=1&destination=${item.lat},${item.lng}" 
                           target="_blank" class="btn btn-primary" onclick="event.stopPropagation()">
                            <i class="fa-solid fa-diamond-turn-right"></i> Navegar
                        </a>
                        ${actionsHtml}
                    </div>
                </div>
            </div>
        `;
    }
}

const app = new TravelApp();
</script>
</body>
</html>

];
// üëÜüëÜüëÜ FIM DA BASE DE DADOS üëÜüëÜüëÜ


/**
 * --- L√ìGICA DA APLICA√á√ÉO (N√ÉO ALTERAR ABAIXO) ---
 */
class TravelApp {
    constructor() {
        this.mode = 'explore';
        this.activeCategory = 'Todos';
        this.map = null;
        this.markers = {};
        // Categorias expandidas
        this.categories = ['Todos', 'Praias', 'Gastronomia', 'Noite', 'Servi√ßos', 'Lazer', 'Cultura', 'Esporte'];
        
        // Se a DB estiver vazia para teste, avisa no console
        if (DB.length === 0) console.warn("A base de dados (DB) est√° vazia. Insira os dados no script.");

        this.init();
    }

    init() {
        this.initMap();
        this.renderFilters();
        this.renderContent();
    }

    // --- GERENCIAMENTO INTELIGENTE DE IMAGENS ---
    getImage(item) {
        // Imagens gen√©ricas de alta qualidade caso o link espec√≠fico quebre ou n√£o exista
        const fallbacks = {
            'Praias': 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=600&q=80',
            'Gastronomia': 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&q=80',
            'Noite': 'https://images.unsplash.com/photo-1566737236500-c8ac43014a67?w=600&q=80',
            'Servi√ßos': 'https://images.unsplash.com/photo-1583258292688-d0213dc5a3a8?w=600&q=80',
            'Lazer': 'https://images.unsplash.com/photo-1533174072545-e8d4aa97edf9?w=600&q=80',
            'Cultura': 'https://images.unsplash.com/photo-1565060169307-28929e05d475?w=600&q=80',
            'Esporte': 'https://images.unsplash.com/photo-1517649763962-0c623066013b?w=600&q=80'
        };
        // Retorna a img do item OU o fallback da categoria OU um fallback geral
        return item.img || fallbacks[item.category] || fallbacks['Lazer'];
    }

    // --- MAPA ---
    initMap() {
        this.map = L.map('map', { zoomControl: false }).setView([BASE_COORDS.lat, BASE_COORDS.lng], 12);
        
        L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
            attribution: '¬© CARTO', maxZoom: 19
        }).addTo(this.map);

        // Marcador da Casa
        const homeIcon = L.divIcon({
            className: 'custom-pin',
            html: `<div style="background-color:#1D1D1F; width:16px; height:16px; border-radius:50%; border:3px solid white; box-shadow:0 4px 10px rgba(0,0,0,0.3);"></div>`,
            iconSize: [20, 20]
        });
        L.marker([BASE_COORDS.lat, BASE_COORDS.lng], { icon: homeIcon }).addTo(this.map).bindPopup("<b>üè° Base (P√°ssaros)</b>");

        // Marcadores dos Itens
        DB.forEach(item => {
            const color = this.getCategoryColor(item.category);
            const markerHtml = `<div style="background-color:${color}; width:12px; height:12px; border-radius:50%; border:2px solid white; box-shadow:0 2px 5px rgba(0,0,0,0.2);"></div>`;
            
            const icon = L.divIcon({ className: 'custom-pin', html: markerHtml, iconSize: [16, 16] });
            const marker = L.marker([item.lat, item.lng], { icon: icon }).addTo(this.map);
            
            // Popup
            const imgSrc = this.getImage(item);
            const popupContent = `
                <div class="popup-content">
                    <img src="${imgSrc}" class="popup-img" onerror="this.src='${this.getImage({category: item.category})}'">
                    <div class="popup-body">
                        <div class="popup-title">${item.title}</div>
                        <div class="popup-meta">‚≠ê ${item.rating} ‚Ä¢ ${this.getDistance(item.lat, item.lng)}km</div>
                    </div>
                </div>
            `;
            
            marker.bindPopup(popupContent, { className: 'custom-popup', closeButton: false });
            this.markers[item.id] = marker;
        });
    }

    getCategoryColor(cat) {
        const colors = {
            'Praias': '#007AFF', 'Gastronomia': '#FF9500', 'Noite': '#AF52DE',
            'Servi√ßos': '#8E8E93', 'Lazer': '#34C759', 'Cultura': '#FF2D55', 'Esporte': '#5856D6'
        };
        return colors[cat] || '#000';
    }

    getDistance(lat2, lon2) {
        const R = 6371; 
        const dLat = (lat2 - BASE_COORDS.lat) * (Math.PI/180);
        const dLon = (lon2 - BASE_COORDS.lng) * (Math.PI/180);
        const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                  Math.cos(BASE_COORDS.lat * (Math.PI/180)) * Math.cos(lat2 * (Math.PI/180)) * Math.sin(dLon/2) * Math.sin(dLon/2); 
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
        return (R * c).toFixed(1);
    }

    // --- CONTROLE DE UI ---
    setMode(newMode) {
        this.mode = newMode;
        document.getElementById('btn-timeline').classList.toggle('active', newMode === 'timeline');
        document.getElementById('btn-explore').classList.toggle('active', newMode === 'explore');
        document.getElementById('filter-container').style.display = newMode === 'explore' ? 'flex' : 'none';
        this.renderContent();
    }

    setCategory(cat) {
        this.activeCategory = cat;
        this.renderFilters();
        this.renderContent();
    }

    focusItem(id, lat, lng) {
        this.map.flyTo([lat, lng], 15, { duration: 1.5 });
        if(this.markers[id]) this.markers[id].openPopup();
    }

    // --- RENDERIZADORES ---
    renderFilters() {
        const container = document.getElementById('filter-container');
        container.innerHTML = this.categories.map(cat => `
            <div class="filter-pill ${this.activeCategory === cat ? 'active' : ''}" 
                 onclick="app.setCategory('${cat}')">${cat}</div>
        `).join('');
    }

    renderContent() {
        const container = document.getElementById('content-list');
        container.innerHTML = ''; 

        if (this.mode === 'timeline') {
            this.renderTimeline(container);
        } else {
            this.renderExplore(container);
        }
    }

    renderTimeline(container) {
        const itineraryItems = DB.filter(i => i.date).sort((a, b) => new Date(a.date) - new Date(b.date));
        const grouped = {};
        
        itineraryItems.forEach(item => {
            if (!grouped[item.date]) grouped[item.date] = [];
            grouped[item.date].push(item);
        });

        Object.keys(grouped).forEach(date => {
            const dayDiv = document.createElement('div');
            dayDiv.className = 'timeline-day';
            const dateObj = new Date(date);
            const dateStr = dateObj.toLocaleDateString('pt-BR', { day: '2-digit', month: 'short' });
            
            dayDiv.innerHTML = `
                <div class="day-header">
                    <div class="day-dot"></div>
                    ${dateStr} <span style="font-weight:400; color:#888; font-size:14px;">${dateObj.toLocaleDateString('pt-BR', { weekday: 'long' })}</span>
                </div>
            `;
            grouped[date].forEach(item => dayDiv.innerHTML += this.createCardHTML(item));
            container.appendChild(dayDiv);
        });
    }

    renderExplore(container) {
        const filtered = this.activeCategory === 'Todos' ? DB : DB.filter(i => i.category === this.activeCategory);
        filtered.forEach(item => container.innerHTML += this.createCardHTML(item));
        if(filtered.length === 0) container.innerHTML = '<div style="text-align:center; padding:20px; color:#888;">Nenhum item encontrado nesta categoria.</div>';
    }

    // GERA O HTML DO CARD (ATUALIZADO PARA SUPORTAR MAIS DADOS)
    createCardHTML(item) {
        const dist = this.getDistance(item.lat, item.lng);
        const crowdLabel = item.crowd === 'low' ? 'Vazio' : item.crowd === 'med' ? 'Moderado' : 'Lotado';
        const crowdClass = item.crowd === 'low' ? 'crowd-low' : item.crowd === 'med' ? 'crowd-med' : 'crowd-high';
        const imgSrc = this.getImage(item);

        // Tratamento de Dicas (Array ou String)
        let tipsHtml = '';
        if (Array.isArray(item.tips)) {
            tipsHtml = `<ul class="tip-list">${item.tips.map(t => `<li>${t}</li>`).join('')}</ul>`;
        } else if (item.tip) {
            // Suporte legado para string √∫nica
            tipsHtml = `<ul class="tip-list"><li>${item.tip}</li></ul>`;
        }

        // Tratamento de Links Extras
        let actionsHtml = '';
        if (item.links) {
            const linkKeys = Object.keys(item.links);
            actionsHtml = linkKeys.map(key => {
                let icon = 'fa-arrow-up-right-from-square';
                let label = 'Info';
                if(key === 'menu') { icon = 'fa-utensils'; label = 'Card√°pio'; }
                if(key === 'instagram') { icon = 'fa-instagram'; label = 'Instagram'; }
                if(key === 'whatsapp') { icon = 'fa-whatsapp'; label = 'WhatsApp'; }
                if(key === 'site') { icon = 'fa-globe'; label = 'Site'; }
                
                return `<a href="${item.links[key]}" target="_blank" class="btn btn-outline" onclick="event.stopPropagation()">
                            <i class="fa-brands ${icon} fa-solid"></i> ${label}
                        </a>`;
            }).join('');
        }

        return `
            <div class="card" onclick="app.focusItem(${item.id}, ${item.lat}, ${item.lng})">
                <div class="card-image-container">
                    <img src="${imgSrc}" class="card-img" loading="lazy" alt="${item.title}" 
                         onerror="this.onerror=null;this.src='${this.getImage({category: item.category})}';">
                    <div class="distance-badge"><i class="fa-solid fa-location-arrow"></i> ${dist} km</div>
                </div>
                <div class="card-body">
                    <div class="card-header">
                        <h3 class="card-title">${item.title}</h3>
                        <div style="text-align:right">
                            <span class="badge badge-rating">‚òÖ ${item.rating}</span>
                        </div>
                    </div>
                    
                    <div class="card-meta">
                        <span class="badge badge-price">${item.category}</span>
                        <span class="badge badge-price">${item.price}</span>
                    </div>

                    <div class="crowd-meter-container ${crowdClass}">
                        <i class="fa-solid fa-user-group"></i>
                        <span>${crowdLabel}</span>
                        <div class="meter-bar"><div class="meter-fill"></div></div>
                    </div>

                    <p class="card-desc">${item.desc}</p>

                    ${tipsHtml ? `
                    <div class="golden-tip-box">
                        <div class="golden-title"><i class="fa-regular fa-lightbulb"></i> Dicas de Ouro</div>
                        ${tipsHtml}
                    </div>` : ''}

                    <div class="actions-grid">
                        <a href="https://www.google.com/maps/dir/?api=1&destination=${item.lat},${item.lng}" 
                           target="_blank" class="btn btn-primary" onclick="event.stopPropagation()">
                            <i class="fa-solid fa-diamond-turn-right"></i> Navegar
                        </a>
                        ${actionsHtml}
                    </div>
                </div>
            </div>
        `;
    }
}

const app = new TravelApp();

</script>
</body>
</html>